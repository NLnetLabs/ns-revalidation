<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc version 1.7.17 (Ruby 3.2.3) -->


<!DOCTYPE rfc  [
  <!ENTITY nbsp    "&#160;">
  <!ENTITY zwsp   "&#8203;">
  <!ENTITY nbhy   "&#8209;">
  <!ENTITY wj     "&#8288;">

<!ENTITY RFC1034 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.1034.xml">
<!ENTITY RFC1035 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.1035.xml">
<!ENTITY RFC2181 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.2181.xml">
<!ENTITY RFC8109 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8109.xml">
<!ENTITY RFC8806 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8806.xml">
<!ENTITY RFC8914 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8914.xml">
<!ENTITY RFC8976 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8976.xml">
<!ENTITY RFC9567 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.9567.xml">
<!ENTITY I-D.fujiwara-dnsop-resolver-update SYSTEM "https://bib.ietf.org/public/rfc/bibxml3/reference.I-D.fujiwara-dnsop-resolver-update.xml">
<!ENTITY I-D.vixie-dnsext-resimprove SYSTEM "https://bib.ietf.org/public/rfc/bibxml3/reference.I-D.vixie-dnsext-resimprove.xml">
<!ENTITY I-D.wijngaards-dnsext-resolver-side-mitigation SYSTEM "https://bib.ietf.org/public/rfc/bibxml3/reference.I-D.wijngaards-dnsext-resolver-side-mitigation.xml">
]>


<rfc ipr="trust200902" docName="draft-ietf-dnsop-ns-revalidation-07" category="std" consensus="true" submissionType="IETF" tocInclude="true" sortRefs="true" symRefs="true">
  <front>
    <title abbrev="DNS Delegation Revalidation">Delegation Revalidation by DNS Resolvers</title>

    <author initials="S." surname="Huque" fullname="Shumon Huque">
      <organization>Salesforce</organization>
      <address>
        <email>shuque@gmail.com</email>
      </address>
    </author>
    <author initials="P." surname="Vixie" fullname="Paul Vixie">
      <organization>SIE Europe, U.G.</organization>
      <address>
        <email>paul@redbarn.org</email>
      </address>
    </author>
    <author initials="W." surname="Toorop" fullname="Willem Toorop">
      <organization>NLnet Labs</organization>
      <address>
        <postal>
          <street>Science Park 400</street>
          <city>Amsterdam</city>
          <code>1098 XH</code>
          <country>Netherlands</country>
        </postal>
        <email>willem@nlnetlabs.nl</email>
      </address>
    </author>

    <date year="2024" month="June" day="24"/>

    <area>Operations and Management Area</area>
    <workgroup>Domain Name System Operations</workgroup>
    <keyword>Internet-Draft</keyword> <keyword>DNS</keyword> <keyword>Resolver</keyword> <keyword>Delegation</keyword> <keyword>Revalidation</keyword> <keyword>Authoritative</keyword> <keyword>Name Server Record</keyword> <keyword>NS</keyword> <keyword>Parent</keyword> <keyword>Child</keyword> <keyword>Resource Record Set</keyword>

    <abstract>


<?line 137?>

<t>This document recommends improved DNS <xref target="RFC1034"/> <xref target="RFC1035"/> resolver behavior with respect to the processing of Name Server (NS) resource record sets (RRset) during iterative resolution.
When following a referral response from an authoritative server to a child zone, DNS resolvers should explicitly query the authoritative NS RRset at the apex of the child zone and cache this in preference to the NS RRset on the parent side of the zone cut.
The (A and AAAA) address RRsets in the additional section from referral responses and authoritative NS answers for the names of the NS RRset, should similarly be re-queried and used to replace the entries with the lower trustworthiness ranking in cache.
Resolvers should also periodically revalidate the child delegation by re-querying the parent zone at the expiration of the TTL of the parent side NS RRset.</t>



    </abstract>

    <note title="About This Document" removeInRFC="true">
      <t>
        Status information for this document may be found at <eref target="https://datatracker.ietf.org/doc/draft-ietf-dnsop-ns-revalidation/"/>.
      </t>
      <t>
        Discussion of this document takes place on the
        DNSOP Working Group mailing list (<eref target="mailto:dnsop@ietf.org"/>),
        which is archived at <eref target="https://mailarchive.ietf.org/arch/browse/dnsop/"/>.
        Subscribe at <eref target="https://www.ietf.org/mailman/listinfo/dnsop/"/>.
      </t>
      <t>Source for this draft and an issue tracker can be found at
        <eref target="https://github.com/shuque/ns-revalidation"/>.</t>
    </note>


  </front>

  <middle>


<?line 144?>

<section anchor="into"><name>Introduction</name>

<t>This document recommends improved DNS resolver behavior with respect to the processing of NS record sets during iterative resolution.
The first recommendation is that resolvers, when following a referral response from an authoritative server to a child zone, should explicitly query the authoritative NS RRset at the apex of the child zone and cache this in preference to the NS RRset on the parent side of the zone cut.
The address records in the additional section from the referral response (as glue) or authoritative NS response that match the names of the NS RRset should similarly be required if they are cached non-authoritatively.
The authoritative answers from those queries should replace the cached non-authoritative A and AAAA RRsets.
The second recommendation is to revalidate the delegation by re-querying the parent zone at the expiration of the TTL of the parent side NS RRset.</t>

</section>
<section anchor="motivation"><name>Motivation</name>

<t>There is wide variability in the behavior of deployed DNS resolvers today with respect to how they process delegation records.
Some of them prefer the parent NS set, some prefer the child, and for others, what they preferentially cache depends on the dynamic state of queries and responses they have processed.
This document aims to bring more commonality and predictability by standardizing the behavior in a way that comports with the DNS protocol.
Another goal is to improve DNS security.</t>

<t>The delegation NS RRset at the bottom of the parent zone and the apex NS RRset in the child zone are unsynchronized in the DNS protocol.
<xref section="4.2.2" sectionFormat="of" target="RFC1034"/> says "The administrators of both zones should insure that the NS and glue RRs which mark both sides of the cut are consistent and remain so.".
But for a variety of reasons they could not be.
Officially, a child zone's apex NS RRset is authoritative and thus has a higher cache credibility than the parent's delegation NS RRset, which is non-authoritative glue (Sections <xref target="RFC2181" section="5.4.1" sectionFormat="bare"/> and <xref target="RFC2181" section="6.1" sectionFormat="bare"/> of <xref target="RFC2181"/>).
Hence the NS RRset "below the zone cut" should immediately replace the parent's delegating NS RRset in cache when an iterative caching DNS resolver crosses a zone boundary.
However, this can only happen if (1) the resolver receives the authoritative NS RRset in the Authority section of a response from the child zone, which is not mandatory, or (2) if the resolver explicitly issues an NS RRset query to the child zone as part of its iterative resolution algorithm.
In the absence of this, it is possible for an iterative caching resolver to never learn the authoritative NS RRset for a zone, unless a downstream client of the resolver explicitly issues such an NS query, which is not something that normal enduser applications do, and thus cannot be relied upon to occur with any regularity.</t>

<t>Increasingly, there is a trend towards minimizing unnecessary data in DNS responses.
Several popular DNS implementations default to such a configuration (see "minimal-responses" in BIND and NSD).
So, they may never include the authoritative NS RRset in the Authority section of their responses.</t>

<t>A common reason that zone owners want to ensure that resolvers place the authoritative NS RRset preferentially in their cache is that the TTLs may differ between the parent and child side of the zone cut.
Some DNS Top Level Domains (TLDs) only support long fixed TTLs in their delegation NS sets.
This inhibits a child zone owner's ability to make more rapid changes to their nameserver configuration using a shorter TTL, if resolvers have no systematic mechanism to observe and cache the child NS RRset.</t>

<t>Similarly, a child zone owner may also choose to have longer TTLs in their delegation NS sets and address records to decrease the attack window for cache poisoning attacks.
For example, at the time of writing, root-servers.net has a TTL of 6 weeks for the root server identifier address records, where the TTL in the priming response is 6 days.</t>

<t>A child zone's delegation still needs to be periodically revalidated at the parent to make sure that the parent zone has not legitimately re-delegated the zone to a different set of nameservers, or even removed the delegation.
Otherwise, resolvers that refresh the TTL of a child NS RRset on subsequent queries or due to pre-fetching, may cling to those nameservers long after they have been re-delegated elsewhere.
This leads to the second recommendation in this document, "Delegation Revalidation" - Resolvers should record the TTL of the parent's delegating NS RRset, and use it to trigger a revalidation action.
Attacks exploiting lack of this revalidation have been described in <xref target="GHOST1"/>, <xref target="GHOST2"/>.</t>

</section>
<section anchor="upgrade-ns"><name>Upgrading NS RRset Credibility</name>

<t>When a referral response is received during iteration, a validation query should be sent in parallel with the resolution of the triggering query, to the delegated nameservers for the newly discovered zone cut.
Note that validating resolvers today, when following a secure referral, already need to dispatch a query to the delegated nameservers for the DNSKEY RRset, so this validation query could be sent in parallel with that DNSKEY query.</t>

<t>A validation query consists of a query for the child's apex NS RRset, sent to the newly discovered delegation's nameservers.
Normal iterative logic applies to the processing of responses to validation queries, including storing the results in cache, trying the next server on SERVFAIL or timeout, and so on.
Positive responses to this validation query will be cached with an authoritative data ranking.
Successive queries directed to the same zone will be directed to the nameservers listed in the child's apex, due to the ranking of this answer.
If the validation query fails, the parent NS RRset will remain the one with the highest ranking and will be used for successive queries.</t>

<t>When a resolver detects that the child's apex NS RRset contains different nameservers than the non-authoritative version at the parent side of the zone cut, it MAY report the mismatch using DNS Error Reporting <xref target="RFC9567"/> on the Report-Channel for the child zone, as well as on the Report-Channel for the parent zone, with an extended DNS error code of TBD <xref target="IANA"/>.</t>

<t>Additional validation queries for the "glue" resource records of referral responses (if not already authoritatively present in cache) may be sent with the validation query for the NS RRset as well.
Positive responses will be cached authoritatively and replace the non authoritative "glue" entries.
Successive queries directed to the same zone will be directed to the authoritative values for the names of the NS RRset in the referral response.</t>

<t>The names from the NS RRset from a validating NS query may differ from the names in NS RRset in the referral response.
Outstanding validation queries for "glue" that do not match names in the authoritative NS RRset be discarded, or they may be left running to completion.
Their result will no longer be used in queries for the zone.
Outstanding validation queries for "glue" that do match names in the authoritative NS RRset must be left running to completion.
They do not need to be re-queried after reception of the authoritative NS RRset (see <xref target="upgrade-addresses"></xref>).</t>

<t>Resolvers may choose to delay the response to the triggering query until both the triggering query and the validation query have been answered.
In practice, we expect many implementations may answer the triggering query in advance of the validation query for performance reasons.
An additional reason is that there are unfortunately a number of nameservers in the field that (incorrectly) fail to properly answer explicit queries for zone apex NS records, and thus the revalidation logic may need to be applied lazily and opportunistically to deal with them.
In cases where the delegated nameservers respond incorrectly to an NS query, the resolver should abandon this algorithm for the zone in question and fall back to using only the information from the parent's referral response.</t>

<t>If the resolver chooses to delay the response, and there are no nameserver names in common between the child's apex NS RRset and the parent's delegation NS RRset, then the responses received from forwarding the triggering query to the parent's delegated nameservers should be discarded after validation, and this query should be forwarded again to the child's apex nameservers.</t>

</section>
<section anchor="upgrade-addresses"><name>Upgrading A and AAAA RRset Credibility</name>
<t>Authoritative responses for a zone's NS RRset at the apex can contain additional addresses.
A NS RRset validation response is such an example of such responses.
A priming response is another example of an authoritative zone's NS RRset response <xref target="RFC8109"/>.</t>

<t>Additional addresses in authoritative NS RRset responses SHOULD be validated if they are not already authoritatively in cache.
Only when such additional addresses are DNSSEC verifiable, (because the complete RRset is included, including a verifiable signature for the RRset), such additional addresses can be cached authoritatively immediately without additional validation queries.
DNSSEC validation is enough validation in those cases.
Otherwise, the addresses cannot be assumed to be complete or even authoritatively present in the same zone, and additional validation queries SHOULD be made for these addresses.</t>

<t>Note that there may be outstanding address validation queries for the names of the authoritative NS RRset (from referral address validation queries).
In those cases no new validation queries need to be made.</t>

<t>Resolvers may choose to delay the response to a triggering query until it can be verified that the answer came from a name server listening on an authoritatively acquired address for an authoritatively acquired name.
This would offer the most trustworthy responses with the least risk for forgery or eavesdropping.</t>

</section>
<section anchor="revalidation"><name>Delegation Revalidation</name>

<t>The essence of this mechanism is re-validation of all delegation metadata that directly or indirectly supports an owner name in cache.
This requires a cache to remember the delegated name server names for each zone cut as received from the parent (delegating) zone's name servers, and also the TTL of that NS RRset, and the TTL of the associated DS RRset (if seen).</t>

<t>A delegation under re-validation is called a "re-validation point" and is "still valid" if its parent zone's servers still respond to an in-zone question with a referral to the re-validation point, and if that referral overlaps with the previously cached referral by at least one name server name, and the DS RRset (if seen) overlaps the previously cached DS RRset (if also seen) by at least one delegated signer.</t>

<t>If the response is not a referral or refers to a different zone than before, then the shape of the delegation hierarchy has changed.
If the response is a referral to the re-validation point but to a wholly novel NS RRset or a wholly novel DS RRset, then the authority for that zone has changed.
For clarity, this includes transitions between empty and non-empty DS RRsets.</t>

<t>If the shape of the delegation hierarchy or the authority for a zone has been found to change, then no currently cached data whose owner names are at or below that re-validation point can be used.
Such non-use can be by directed garbage collection or lazy generational garbage collection or some other method befitting the architecture of the cache.
What matters is that the cache behave as though this data was removed.</t>

<t>Since re-validation can discover changes in the shape of the delegation hierarchy it is more efficient to re-validate from the top (root) downward (to the owner name) since an upper level re-validation may obviate lower level re-validations.
What matters is that the supporting chain of delegations from the root to the owner name be demonstrably valid; further specifics are implementation details.</t>

<t>Re-validation is triggered when delegation meta-data has been cached for a period at most exceeding the delegating NS or DS (if seen) RRset TTL.
If the corresponding child zone's apex NS RRset TTL is smaller than the delegating NS RRset TTL, revalidation should happen at that interval instead.
However, resolvers should impose a sensitive minimum TTL floor they are willing to endure to avoid potential computational DoS attacks inflicted by zones with very short TTLs.</t>

<t>In normal operations this meta-data can be quickly re-validated with no further work.
However, when re-delegation or take-down occurs, a re-validating cache will discover this within one delegation TTL period, allowing the rapid expulsion of old data from the cache.</t>

</section>
<section anchor="IANA"><name>IANA Considerations</name>

<t>IANA is requested to assign a value to the "Extended DNS Error Codes" registry <xref target="RFC8914"/>.</t>

<texttable>
      <ttcol align='left'>INFO-CODE</ttcol>
      <ttcol align='left'>Purpose</ttcol>
      <ttcol align='left'>Reference</ttcol>
      <c>TBD</c>
      <c>referral NS RRset mismatch</c>
      <c>[this document]</c>
</texttable>

</section>
<section anchor="Security"><name>Security and Privacy Considerations</name>

<section anchor="impact"><name>DNSSEC protection of infrastructure data</name>

<t>Referral response NS RRsets and glue, and the additional addresses from authoritative NS RRset responses (such as the root priming response), are not protected with DNSSEC signatures.
An attacker that is able to alter the unsigned A and AAAA RRsets in the additional section of referral and authoritative NS RRset responses, can fool a resolver into taking addresses under the control of the attacker to be authoritative for the zone.
Such an attacker can redirect all traffic to the zone (of the referral or authoritative NS RRset response) to a rogue name server.</t>

<t>A rogue name server can view all queries from the resolver to that zone and alter all unsigned parts of responses, such as the parent side NS RRsets and glue of further referral responses.
Resolvers following referrals from a rogue name server, that do not revalidate those referral responses, can subsequently be fooled into taking addresses under the control of the attacker to be authoritative for those delegations as well.
The higher up the DNS tree, the more impact such an attack has.
An attacker controlling a rogue name server for the root has potentially complete control over the entire domain name space and can alter all unsigned parts undetected.</t>

<t>Revalidating referral and authoritative NS RRset responses enables to defend against the above described attack with DNSSEC signed infrastructure RRsets.
Unlike cache poisoning defences that leverage increase entropy to protect the transaction, revalidation of NS RRsets and addresses also provides protection against on-path attacks.</t>

<t>Since December 6, 2023, the root zone contains a DNSSEC signed cryptographic message digest <xref target="RFC8976"/><xref target="ROOT-ZONEMD"/>, covering all root zone data.
This includes all non-authoritative data such as the A and AAAA RRsets for the IP addresses of the root server identifiers, as well as the NS RRsets and glue that make up the delegations.
A root zone local to the resolver <xref target="RFC8806"/> with a verified and validated ZONEMD RRset, would provide protection similarly strong to revalidating the root and the top level domains.</t>

</section>
<section anchor="cache-poisoning-protection"><name>Cache poisoning protection</name>

<t>In <xref target="DNS-CACHE-INJECTIONS"/> an overview is given of 18 cache poisoning attacks from which 13 can be remedied with delegation revalidation.
The paper provides recommendations for handling records in DNS response with respect to an earlier version of the idea presented in this document <xref target="I-D.wijngaards-dnsext-resolver-side-mitigation"/>.</t>

<t><xref target="upgrade-ns">Upgrading NS RRset Credibility</xref> allows resolvers to cache and utilize the authoritative child apex NS RRset in preference to the non-authoritative parent NS RRset.
However, it is important to implement the steps described in <xref target="revalidation">Delegation Revalidation</xref> at the expiration of the parent's delegating TTL.
Otherwise, the operator of a malicious child zone, originally delegated to, but subsequently delegated away from, can cause resolvers that refresh TTLs on subsequent NS set queries, or that pre-fetch NS queries, to never learn of the redelegated zone <xref target="GHOST1"/>, <xref target="GHOST2"/>.</t>

</section>
<section anchor="other-considerations"><name>Other considerations</name>
<t>Revalidating referral and authoritative NS RRset responses will induce more traffic from the resolver to the authoritative name servers.
A software implementation may consider to revalidate only the higher layers of the domain name space where it has the highest impact (see <xref target="impact"/>).
For example only revalidate the root NS and associated address RRsets, or only revalidate the root and the Top Level Domain (TLD) NS and associated address RRsets.
Another reason to only revalidate layers higher up the DNS tree, is because their management is likely to be a principal activity of the operators managing those layers and as a consequence, the child-side NS RRsets are likely to be of good quality.</t>

<t>Some, so called parent centric, resolvers do not adhere to Sections <xref target="RFC2181" section="5.4.1" sectionFormat="bare"/> and <xref target="RFC2181" section="6.1" sectionFormat="bare"/> of <xref target="RFC2181"/>, and only use the non-authoritative parent side NS RRsets and glue returned in referral responses for contacting authoritative name servers <xref target="I-D.fujiwara-dnsop-resolver-update"/>.
As a consequence, they are not susceptible to many of the cache poisoning attacks enumerated in <xref target="DNS-CACHE-INJECTIONS"/> that are based upon the relative trustworthiness of DNS data.
Parent centric resolvers are also not susceptible to the GHOST domain attacks <xref target="GHOST1"/>, <xref target="GHOST2"/>.
Parent centric resolvers will however never benefit from DNSSEC protection of infrastructure RRsets and are susceptible to query redirection attacks (see <xref target="impact"/>).</t>

</section>
</section>


  </middle>

  <back>


    <references title='Normative References' anchor="sec-normative-references">

&RFC1034;
&RFC1035;
&RFC2181;
&RFC8109;
&RFC8806;
&RFC8914;
&RFC8976;
&RFC9567;


    </references>

    <references title='Informative References' anchor="sec-informative-references">

&I-D.fujiwara-dnsop-resolver-update;
&I-D.vixie-dnsext-resimprove;
&I-D.wijngaards-dnsext-resolver-side-mitigation;
<reference anchor="GHOST1" target="https://www.ndss-symposium.org/ndss2012/">
  <front>
    <title>Ghost Domain Names: Revoked Yet Still Resolvable</title>
    <author initials="J." surname="Jiang" fullname="J Jiang">
      <organization></organization>
    </author>
    <author initials="J." surname="Liang" fullname="J Liang">
      <organization></organization>
    </author>
    <author initials="K." surname="Li" fullname="K Li">
      <organization></organization>
    </author>
    <author initials="J." surname="Li" fullname="J Li">
      <organization></organization>
    </author>
    <author initials="H." surname="Duan" fullname="H Duan">
      <organization></organization>
    </author>
    <author initials="J." surname="Wu" fullname="J Wu">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="GHOST2" target="https://www.ndss-symposium.org/ndss-paper/ghost-domain-reloaded-vulnerable-links-in-domain-name-delegation-and-revocation/">
  <front>
    <title>Ghost Domain Reloaded: Vulnerable Links in Domain Name Delegation and Revocation</title>
    <author initials="X." surname="Li" fullname="Xiang Li">
      <organization></organization>
    </author>
    <author initials="B." surname="Liu" fullname="Baojun Liu">
      <organization></organization>
    </author>
    <author initials="X." surname="Bai" fullname="Xuesong Bai">
      <organization></organization>
    </author>
    <author initials="M." surname="Zhang" fullname="Mingming Zhang">
      <organization></organization>
    </author>
    <author initials="Q." surname="Zhang" fullname="Qifan Zhang">
      <organization></organization>
    </author>
    <author initials="Z." surname="Li" fullname="Zhou Li">
      <organization></organization>
    </author>
    <author initials="H." surname="Duan" fullname="Haixin Duan">
      <organization></organization>
    </author>
    <author initials="Q." surname="Li" fullname="Qi Li">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="DNS-CACHE-INJECTIONS" target="https://ieeexplore.ieee.org/abstract/document/8057202">
  <front>
    <title>Internet-Wide Study of DNS Cache Injections</title>
    <author initials="A." surname="Klein" fullname="Amit Klein">
      <organization></organization>
    </author>
    <author initials="H." surname="Shulman" fullname="Haya Shulman">
      <organization></organization>
    </author>
    <author initials="M." surname="Waidner" fullname="Michael Waidner">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="ROOT-ZONEMD" target="https://lists.dns-oarc.net/pipermail/dns-operations/2023-December/022388.html">
  <front>
    <title>Root zone operational announcement: introducing ZONEMD for the root zone</title>
    <author initials="D." surname="Wessels" fullname="Duane Wessels">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>


    </references>


<?line 316?>

<section anchor="Acknowledgements"><name>Acknowledgements</name>

<t>Wouter Wijngaards proposed explicitly obtaining authoritative child NS data in <xref target="I-D.wijngaards-dnsext-resolver-side-mitigation"/>.
This behavior has been implemented in the Unbound DNS resolver via the "harden-referral-path" option.
The combination of child NS fetch and revalidating the child delegation was originally proposed in <xref target="I-D.vixie-dnsext-resimprove"/>, by Paul Vixie, Rodney Joffe, and Frederico Neves.</t>

<t>The authors would like to thank Ralph Dolmans who was an early collaborator on this work, as well as the many members of the IETF DNS Operations Working Group for helpful comments and discussion.</t>

</section>
<section anchor="implementation-status"><name>Implementation status</name>

<t><strong>Note to the RFC Editor</strong>: please remove this entire appendix before publication.</t>

<t><list style="symbols">
  <t>The Knot Resolver software revalidates the priming response as part of priming the root zone since version 1.5.1 (released December 12, 2017)</t>
  <t>The Unbound resolver software has delegation revalidation as described in this document implemented since version 1.1 (released August 29, 2008).
It is enabled with a configuration option <spanx style="verb">harden-referral-path: yes</spanx> which is disabled by default.  <vspace blankLines='1'/>
"Redhat Enterprise Linux has been running Unbound with the <spanx style="verb">harden-referral-path:</spanx> option set to <spanx style="verb">yes</spanx> for years without problems", as mentioned by Paul Wouters during dnsop workgroup session at the IETF 119.</t>
</list></t>

</section>


  </back>

<!-- ##markdown-source:
H4sIAAAAAAAAA9Vc6W8bR5b/zr+ioPkwUkDSkuI4thYLRLGUWIkjOZIznkl2
gBS7i2RFzS5OV7doRtH/vu+oqw/KdmawwAowLPVR9erVO37vqJ5MJqNa14U6
EWeqUAtZa1OKa3UnC53zH7OtOLu8gWvWFHeqsiM5m1Xq7oSu7nhplJuslCsY
Na/kvJ5oVc8neWnNelLaSZU8OTn8cgS/wZPHh8dPJ4fPJsdPRyO9rk5EXTW2
Pj48fHF4PLLNbKWthRfq7Roevjh/+81IVkqeiKu1qmgoK2SZix9kKRdqpcpa
nML90WYBlJqV1KW4BIrEzdbWapW8NbrdnIyEmIiLslZVqerJGdJMl2CJ9L9f
PF8Ma3b3knXjhdOmXppK13DlTtEVnlhVMAI8npkq58s8+BtYR8nzvVzqIg8z
NlWm3PPwdj3KZH0ibJ2P7lTZKCR6UZlmTTtx9Qb+hFUWwHLk81fI8qmpFviU
rpfNDF5dNv9q1JPODoxGa30ifqlNNhbWVHWl5hZ+267wl3+ORpKWQyyCf0Lo
0p6Im6l4hYPRFd7pm2WzAjGIl2FyWerfaRK4LQtl5waWRDcV08okfbXAv6aZ
WbVneTMVf9PvdTrLG9kUycXOHBfn4rypzFqNxU/Tb6fpTGt48atK5TNZlY4v
yUzvpuKtMfBmMtU7XRQgKcn19myXr0FYxGs5s3TTAucUbNBNplUJGwfbeiue
Hh7SzUzX2xNxugLZq3K54msmh1mODl88F39/5a40ZV3Bg5eqXqqqAHm26Ro2
RNFXZQETFzDvtCxGo9JUKxK1E3r0+puXR4efP03/+CL8cXz0/Cj88Rymjn88
P3wW/3hx9DT548t458UXz748Af0s5+1ZLyZn03nzm97ISjpFr5zOTJo1KXh4
7g53Dx9S72t8Sq/WlUkH2ujfyoWUVW6Tp3gsq3M1WelaswLyO9++urp569aF
P7WsFrgTy7pe25MnTzabzRQ4aScg1GtjdbNCAXiCl44Pj46fxBfZEu59uzS2
Tq0GSAioublVufgH7PlNDRvhjIKcFWovjBCVxf9Mkt+9ZH0nvtOyXLTukBh+
N+3dGX7/9c73u3eG3v8enuq//P20fXnXzDum/cCbr8RZI8v+u6+m3RvD875r
Bud1l0kEjv+UCEzWEnzBkwXu+SSnPQd5K4zMVT65a0DXKtzjSaHLWzuBm+4Z
JGySB18wAWVFu2oy+vMDQnXtJjgRfwszAA9hBlhZy18lHhbd23WY4VOF7u8o
GIPb9/eP2L6vpfmtKeG5gW34etq5Pjh9A+oCBHwthyloXx8a4QddLlbwT/y8
HBT+H6a9O0PD/Kjnstw1xo8fN8bPS9MMsvLnj9EECQaw/LfU4Uc9OPuPYXZA
BJOXpy9fnU8uLr87f/n24uryZrd2aKXU+3VhKjXFX0k1wL3UlczqJwDlGoRT
T54ffvElgLSeYAfc9A6MM9jGJt8KMyd4+FJmSwXA6jeVEdb6VJk9BVMvvi+U
HuDU6bR3Z5jbW4nYpFjtYHf/3rDwZUupCvFO6rwkINgZCaQvvXd9dfV28vPV
5fkPZ7v5Xmhb2yn4uImRVTYFHj5ZazBG6O2f0OWAUp8A5z+fnKlMrWZgrQ6P
jz9//ny6rFdFbz+ujanF76ZUIrwuCzAeJaCLjJDxCZBcVyZvMlInolKARxeA
OkTlX//UzUK5VeKdslYVts+gs2m4N5pMJsIL2Gj0dqmt8GImKgC8K/gtB1PI
yCAnWbq/d9Dm4SH8/gX87rGBmKmlvNOwig3gXby8BqkTtaFVwUAZzI7rBdlM
Afn+5c0BDUJwu2K4bVVtxf71Nfx/IPKmwvd0Tdy8Uzxlg4ydjt4tVQm8Kwqz
wYck3JyrqgKOIwWwc0rMK7MC/js2usAApqDpgT4pMsT9xPQxrdWvyQJANg3c
QvXUACKLrQC8XG1pTe3xMEZDeoWs+e5avce14u9xfHIiGalljWwHQ7Qmigmz
OmaFocDpEPMoQhEIvvyINFbW1FPYPSX2T2ncU/g5EDLPgX7LQ9AMRE6eayeK
lq0B86XHLg7jemuTpd0gQ7yYosxZT40neOz5BaBSF7ICds1wuybINA2ChEM3
Fn6BlVZqXUhcNAwAy4P7lkUHL8B24uZgCLqBoGipS1xSJctbEoWSeTgdXXd3
ShbWCNA7bXKdyQIoCMGWSvYiAgcMsB2FWxw7YThvGG8nSIBmZfaLfvv2tf81
3SDPiymr2UrneaFGowun8TTCwM/9X8AmmIfRfyc/H6uaf0oFb1q69qiOoYjN
dWUTCpgTQFy9lHXUl7HY/Kf18f+HBnqlY55+UOvI0PcYsy+tWBSNOoBIt7+2
8BixHKK/bLlbE3co4r8aDTG40PTwVsCqmBW5KBFCp1MWW7eyFh3BDPAqDJDD
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

-->

</rfc>

